CREATE TABLE NEWS (
  ID NUMBER not null,
  TITLE VARCHAR2(100 CHAR),
  DATETIME DATE,
  BRIEF VARCHAR2(500 CHAR),
  CONTENT VARCHAR2(2048 CHAR)
);

ALTER TABLE NEWS ADD (
  CONSTRAINT news_pk PRIMARY KEY (ID));

CREATE SEQUENCE news_seq START WITH 1 INCREMENT BY 1;

CREATE TABLE USERS (
  USER_ID NUMBER not null,
  USERNAME VARCHAR2(50 CHAR) not null,
  PASSWORD VARCHAR2(100 CHAR) not null,
  AUTH_ID NUMBER

);

ALTER TABLE USERS ADD (constraint USERS_PK PRIMARY KEY (USER_ID));
CREATE sequence USERS_SEQ START WITH 1 INCREMENT BY 1;

CREATE TABLE AUTHORITIES (
  AUTH_ID NUMBER not null,
  ROLE VARCHAR2(30 CHAR) not null
);

ALTER TABLE AUTHORITIES ADD (constraint AUTHORITIES_PK PRIMARY KEY (AUTH_ID));
CREATE sequence AUTHORITIES_SEQ START WITH 1 INCREMENT BY 1;

ALTER TABLE USERS ADD CONSTRAINT "USERS_fk0" FOREIGN KEY ("AUTH_ID") REFERENCES AUTHORITIES("AUTH_ID");

INSERT INTO AUTHORITIES (AUTH_ID, ROLE) VALUES (AUTHORITIES_SEQ.nextval, 'ROLE_ADMIN');
INSERT INTO AUTHORITIES (AUTH_ID, ROLE) VALUES (AUTHORITIES_SEQ.nextval, 'ROLE_USER');
INSERT INTO USERS (USER_ID, USERNAME, PASSWORD, AUTH_ID) VALUES (USERS_SEQ.nextval, 'user', 'user', 2);
INSERT INTO USERS (USER_ID, USERNAME, PASSWORD, AUTH_ID) VALUES (USERS_SEQ.nextval, 'admin', 'admin', 1);
